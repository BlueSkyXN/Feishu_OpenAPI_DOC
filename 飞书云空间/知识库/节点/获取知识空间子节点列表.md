# 获取知识空间子节点列表

最后更新于 2025-06-12

此接口用于分页获取Wiki节点的子节点列表。

此接口为分页接口。由于权限过滤，可能返回列表为空，但分页标记（has\_more）为true，可以继续分页请求。

知识库权限要求，当前使用的 access token 所代表的应用或用户拥有：

* 父节点阅读权限

## 请求

| 基本                      |                                                                           |
| --------------------------- | --------------------------------------------------------------------------- |
| HTTP URL                  | https://open.feishu.cn/open-apis/wiki/v2/spaces/:space\_id/nodes          |
| HTTP Method               | GET                                                                       |
| 接口频率限制              | [100 次/分钟](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN) |
| 支持的应用类型            | **自建应用**商店应用                                                      |
| 权限要求 开启任一权限即可 | **查看知识空间节点列表**查看、编辑和管理知识库**查看知识库**              |

### 请求头

| 名称          | 类型   | 必填 | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| --------------- | -------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Authorization | string | 是   | 应用调用 API 时，需要通过访问凭证（access\_token）进行身份鉴权，不同类型的访问凭证可获取的数据范围不同，参考 [选择并获取访问凭证](https://open.feishu.cn/document/ukTMukTMukTM/uMTNz4yM1MjLzUzM) 。​**值格式**​："Bearer `access_token`"​**可选值如下**​：tenant\_access\_token以应用身份调用 API，可读写的数据范围由应用自身的 [数据权限范围](https://open.feishu.cn/document/home/introduction-to-scope-and-authorization/configure-app-data-permissions)决定。参考 [自建应用获取 tenant\_access\_token](https://open.feishu.cn/document/ukTMukTMukTM/ukDNz4SO0MjL5QzM/auth-v3/auth/tenant_access_token_internal) 或 [商店应用获取 tenant\_access\_token](https://open.feishu.cn/document/ukTMukTMukTM/ukDNz4SO0MjL5QzM/auth-v3/auth/tenant_access_token) 。示例值："Bearer t-g1044qeGEDXTB6NDJOGV4JQCYDGHRBARFTGT1234"user\_access\_token以登录用户身份调用 API，可读写的数据范围由用户可读写的数据范围决定。参考 [获取 user\_access\_token](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/authentication-management/access-token/get-user-access-token)。示例值："Bearer u-cjz1eKCEx289x1TXEiQJqAh5171B4gDHPq00l0GE1234" |
| Content-Type  | string | 是   | ​**固定值**​："application/json; charset=utf-8"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |

### 路径参数

| 名称          | 类型       | 描述                                                  |
| --------------- | ------------ | ------------------------------------------------------- |
| **space\_id** | **string** | 知识空间id​**示例值**​："6946843325487906839" |

### 查询参数

| 名称                    | 类型       | 必填 | 描述                                                                                                                                                                                 |
| ------------------------- | ------------ | ------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **page\_size**          | **int**    | 否   | 分页大小​**示例值**​：10​**数据校验规则**​：* 最大值：`50`                                                                                                     |
| **page\_token**         | **string** | 否   | 分页标记，第一次请求不填，表示从头开始遍历；分页查询结果还有更多项时会同时返回新的 page\_token，下次遍历可采用该 page\_token 获取查询结果​**示例值**​："6946843325487456878" |
| **parent\_node\_token** | **string** | 否   | 父节点token​**示例值**​："wikcnKQ1k3p\*\*\*\*\*\*8Vabce"                                                                                                                     |

### 请求示例

如需根据实际场景调整请求参数，可打开  输入请求参数，即可快速复制对应的调用代码

cURL

Go SDK

Python SDK

Java SDK

Node SDK

Php - Guzzle

C# - Restsharp

1

2

## 响应

### 响应体

| 名称                    | 类型        | 描述                                                                                                                                                                                           |
| ------------------------- | ------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **code**                | **int**     | 错误码，非 0 表示失败                                                                                                                                                                          |
| **msg**                 | **string**  | 错误描述                                                                                                                                                                                       |
| **data**                | **-**       | -                                                                                                                                                                                              |
| **items**               | **node[]**  | 数据列表                                                                                                                                                                                       |
| **space\_id**           | **string**  | 知识空间id[获取方式](https://open.feishu.cn/document/ukTMukTMukTM/uUDN04SN0QjL1QDN/wiki-overview)                                                                                                 |
| **node\_token**         | **string**  | 节点token                                                                                                                                                                                      |
| **obj\_token**          | **string**  | 对应文档类型的token，可根据 obj\_type 判断属于哪种文档类型。                                                                                                                                   |
| **obj\_type**           | **string**  | 文档类型，对于快捷方式，该字段是对应的实体的obj\_type。​**可选值有**​：* `doc`：旧版文档* `sheet`：表格* `mindnote`：思维导图* `bitable`：多维表格* `file`：文件 |
| **parent\_node\_token** | **string**  | 父节点 token。若当前节点为一级节点，父节点 token 为空。                                                                                                                                        |
| **node\_type**          | **string**  | 节点类型​**可选值有**​：* `origin`：实体* `shortcut`：快捷方式                                                                                                               |
| **origin\_node\_token** | **string**  | 快捷方式对应的实体node\_token，当节点为快捷方式时，该值不为空。                                                                                                                                |
| **origin\_space\_id**   | **string**  | 快捷方式对应的实体所在的space id                                                                                                                                                               |
| **has\_child**          | **boolean** | 是否有子节点                                                                                                                                                                                   |
| **title**               | **string**  | 文档标题                                                                                                                                                                                       |
| **obj\_create\_time**   | **string**  | 文档创建时间                                                                                                                                                                                   |
| **obj\_edit\_time**     | **string**  | 文档最近编辑时间                                                                                                                                                                               |
| **node\_create\_time**  | **string**  | 节点创建时间                                                                                                                                                                                   |
| **creator**             | **string**  | 节点创建者                                                                                                                                                                                     |
| **owner**               | **string**  | 节点所有者                                                                                                                                                                                     |
| **node\_creator**       | **string**  | 节点创建者                                                                                                                                                                                     |
| **page\_token**         | **string**  | 分页标记，当 has\_more 为 true 时，会同时返回新的 page\_token，否则不返回 page\_token                                                                                                          |
| **has\_more**           | **boolean** | 是否还有更多项                                                                                                                                                                                 |

### 响应体示例

```
{
    "code": 0,
    "msg": "success",
    "data": {
        "items": [
            {
                "space_id": "6946843325487912356",
                "node_token": "wikcnKQ1k3p******8Vabcef",
                "obj_token": "doccnzAaOD******Wabcdef",
                "obj_type": "doc",
                "parent_node_token": "wikcnKQ1k3p******8Vabcef",
                "node_type": "origin",
                "origin_node_token": "wikcnKQ1k3p******8Vabcef",
                "origin_space_id": "6946843325487912356",
                "has_child": false,
                "title": "标题",
                "obj_create_time": "1642402428",
                "obj_edit_time": "1642402428",
                "node_create_time": "1642402428",
                "creator": "ou_xxxxx",
                "owner": "ou_xxxxx",
                "node_creator": "ou_xxxxx"
            }
        ],
        "page_token": "6946843325487906839",
        "has_more": true
    }
}
```
### 错误码

| HTTP状态码 | 错误码 | 描述              | 排查建议                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------------ | -------- | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 400        | 131001 | rpc fail          | 服务报错，请稍后重试，或者拿响应体的header头里的x-tt-logid咨询[oncall](https://applink.feishu.cn/client/helpdesk/open?id=6626260912531570952)定位。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 400        | 131002 | param err         | 通常为传参有误，例如数据类型不匹配。请查看​**具体接口报错信息**​，报错不明确时请咨询[oncall](https://applink.feishu.cn/client/helpdesk/open?id=6626260912531570952)。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 400        | 131004 | invalid user      | 非法用户。请咨询[oncall](https://applink.feishu.cn/client/helpdesk/open?id=6626260912531570952)。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 400        | 131005 | not found         | 未找到相关数据，例如id不存在。相关报错信息参考：* member not found：用户不是知识空间成员（管理员），无法删除。* identity not found: userid不存在，无法添加/删除成员。* space not found：知识空间不存在* node not found：节点不存在* document not found：文档不存在报错不明确时请咨询[oncall](https://applink.feishu.cn/client/helpdesk/open?id=6626260912531570952)。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 400        | 131006 | permission denied | 权限拒绝，相关报错信息参考：* wiki space permission denied：知识库权限鉴权不通过，需要成为知识空间管理员（成员）。* node permission denied：文档节点权限鉴权不通过，读操作需要具备节点阅读权限，写操作（创建、移动等）则需要具备节点容器编辑权限。* no source parent node permission：需要具备原父节点的容器编辑权限。* no destination parent node permission：需要具备目标父节点的容器编辑权限，若移动到知识空间下，则需要成为知识空间管理员（成员）。​**注意**​：应用访问或操作文档时，除了申请 API 权限，还需授权具体文档资源的阅读、编辑或管理权限。请参考以下步骤操作：1. ​**当遇到资源权限不足的情况**​：参阅[如何给应用授权访问知识库文档资源](https://open.feishu.cn/document/ukTMukTMukTM/uUDN04SN0QjL1QDN/wiki-v2/wiki-qa#a40ad4ca)。1. ​**也可直接将应用添加为知识库管理员（成员）**​：参阅[如何将应用添加为知识库管理员（成员）](https://open.feishu.cn/document/ukTMukTMukTM/uUDN04SN0QjL1QDN/wiki-v2/wiki-qa#b5da330b)。1. ​**若无法解决或报错信息不明确时**​：请咨询[技术支持](https://applink.feishu.cn/client/helpdesk/open?id=6626260912531570952)。 |
| 400        | 131007 | internal err      | 服务内部错误，请勿重试，拿返回值的header头里的x-tt-logid咨询[oncall](https://applink.feishu.cn/client/helpdesk/open?id=6626260912531570952)定位。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
